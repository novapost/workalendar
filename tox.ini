[tox]
envlist = pyupgrade,flake8,py36,py37,py38,py39

[testenv]
deps =
    pytest
    pandas
    pytest-cov
    freezegun

commands_pre =
    python setup.py develop
    python --version
commands =
    py.test --cov=src/workalendar --cov-report term-missing:skip-covered {posargs: tests}

[testenv:flake8]
deps =
    flake8
commands_pre =
skip_install = true
commands = flake8 src tests

[testenv:pyupgrade]
deps =
    pyupgrade-directories
commands_pre =
skip_install = true
commands = pyup_dirs --py36-plus --recursive src tests
